<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <link rel="shortcut icon" href="" type="png">
  <link rel="stylesheet" href="../stylesheets/style.css">
  <link rel="stylesheet" href="../stylesheets/admin.css">
  <link rel="stylesheet" href="../stylesheets/nav.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
  <nav data-nav="sidebar">
    <article class="desktopNav">
      <section class="bottom">
        <div class="left">
          <div class="logo">
            <!-- <img src="../eportfilio (revamp)/assets/images/Crest-Icon.png" alt=""> -->
            <h1>AudioX</h1>
          </div>
        </div>
        <div class="right">
          <ul class="navLinks">
            <li>
              <a data-nav-tabs="Overview">Overview</a>
            </li>
            <li>
              <a data-nav-tabs="Announcements">Announcements</a>
            </li>
            <li>
              <a data-nav-tabs="Council Members">Council Members</a>
            </li>
          </ul>
        </div>
      </section>
    </article>
    <article class="mobileNav">
      <section class="bottom">
        <div class="Burger-Cont">
          <div class="Nav-Burger">
            <div class="Bar Bar-Top"></div>
            <div class="Bar Bar-Mid"></div>
            <div class="Bar Bar-Bot"></div>
          </div>
        </div>
        <div class="left">
          <div class="logo">
            <!-- <img src="../eportfilio (revamp)/assets/images/Crest-Icon.png" alt=""> -->
            <h1>AudioX</h1>
          </div>
        </div>
        <div class="right">
          <ul class="navLinks">
            <li>
              <a data-nav-tabs="Overview">Overview</a>
            </li>
            <li>
              <a data-nav-tabs="Announcements">Announcements</a>
            </li>
            <li>
              <a data-nav-tabs="Council Members">Council Members</a>
            </li>
          </ul>
        </div>
      </section>
    </article>
  </nav>
  <div class="course-modal">
    <button class="closeBtn" onclick="closeModal()">
      <img src="../images/svg/xmark.svg" loading="lazy" alt="xmark">
    </button>
    <article class="anncModal">
      <h1></h1>
      <form id="announcementForm" enctype="multipart/form-data">
        <div class="top">
          <input type="file" name="ancMainImg" id="ancMainImg" accept="image/*" hidden>
          <div>
            <label for="ancMainImg">
              <div class="mainImgCont">
                <img class="imagePreview">
                <p>Add Photo</p>
              </div>
            </label>
          </div>
          <div>
            <div class="titleCont">
              <span>Title: </span>
              <input type="text" name="ancTitle" id="ancTitle">
            </div>
            <textarea name="ancDescription" id="ancDescription"></textarea>
          </div>
        </div>
        <div class="mid">
          <h1>Gallery</h1>
          <input type="file" name="ancGalleryImg" id="ancGalleryImg" accept="image/*" multiple="multiple" hidden>
          <ul class="galleryImages">
            <li class="addImg">
              <label for="ancGalleryImg">
                <div>+</div>
              </label>
            </li>
          </ul>
        </div>
        <div class="bottom">
          <span class="errorMsg">*No cover photo selected</span>
          <div>
            <button type="reset" onclick="clearForm()">Clear</button>
            <button type="submit">Post</button>
          </div>
        </div>
      </form>
    </article>
    <article></article>
  </div>
  <main>
    <article data-nav-windows="Overview">
    </article>
    <article data-nav-windows="Announcements">
      <button class="addAnnc" onclick="openModal('anncModal', 'Add')">Post new Announcement</button>
      <h1>Posted Announcements</h1>
      <ul class="anncPreview">
      <% for(const annc of announcements){ %>
        <li>
          <%
            const { AnnouncementID, Title, Description, DatePosted } = annc;
            const setDate = new Date(DatePosted);
            const formattedDate =
              `${setDate.toLocaleDateString('en-US', {
                month: 'long',
                day: 'numeric',
                year: 'numeric'
              })}
              ${setDate.toLocaleTimeString('en-US', {
                hour: 'numeric',
                minute: '2-digit'
              })}`;
          %>
          <input type="hidden" value="<%= AnnouncementID %>">
          <div class="ancMain">
            <% for(const img of images){ %>
              <% const { ImageType, ImagePath } = img; %>
              <% if(ImageType === 'main' && img.AnnouncementID === AnnouncementID){ %>
                <img data-main-img class="mainImg" src="<%= ImagePath %>" loading="lazy" alt="main image">
              <% } %>
            <% } %>
            <div class="txt">
              <h2><%= Title %></h2>
              <span><%= formattedDate %></span>
              <p><%= Description %></p>
            </div>
          </div>
          <div class="ancGallery">
            <% for(const img of images){ %>
              <% const { ImageType, ImagePath } = img; %>
              <% if(ImageType === 'gallery' && img.AnnouncementID === AnnouncementID){ %>
                <img data-main-img src="<%= ImagePath %>" loading="lazy" alt="gallery image">
              <% } %>
            <% } %>
          </div>
          <div class="icon">
            <svg class="edit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" onclick="openModal('anncModal', 'Edit')">
              <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
              <path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/>
            </svg>
            <svg class="delete" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
              <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
              <path d="M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"/>
            </svg>
          </div>
        </li>
      <% } %>
      </ul>
    </article>
    <article data-nav-windows="Council Members">

    </article>
  </main>
  <script src="../javascripts/imgViewer.js"></script>
  <script src="../javascripts/modals.js"></script>
  <script src="../javascripts/nav.js"></script>
  <script src="../javascripts/script.js"></script>
  <script src="../javascripts/admin.js"></script>
</body>
</html>