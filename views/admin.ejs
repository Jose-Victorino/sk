<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <link rel="shortcut icon" href="" type="png">
  <link rel="stylesheet" href="../stylesheets/style.css">
  <link rel="stylesheet" href="../stylesheets/admin.css">
  <link rel="stylesheet" href="../stylesheets/nav.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
  <nav data-nav="sidebar">
    <article class="desktopNav">
      <section class="bottom">
        <div class="left">
          <div class="logo">
            <!-- <img src="../eportfilio (revamp)/assets/images/Crest-Icon.png" alt=""> -->
            <h1>AudioX</h1>
          </div>
        </div>
        <div class="right">
          <ul class="navLinks">
            <li>
              <a data-nav-tabs="Overview">Overview</a>
            </li>
            <li>
              <a data-nav-tabs="Announcements">Announcements</a>
            </li>
            <li>
              <a data-nav-tabs="Council Members">Council Members</a>
            </li>
          </ul>
        </div>
      </section>
    </article>
    <article class="mobileNav">
      <section class="bottom">
        <div class="Burger-Cont">
          <div class="Nav-Burger">
            <div class="Bar Bar-Top"></div>
            <div class="Bar Bar-Mid"></div>
            <div class="Bar Bar-Bot"></div>
          </div>
        </div>
        <div class="left">
          <div class="logo">
            <!-- <img src="../eportfilio (revamp)/assets/images/Crest-Icon.png" alt=""> -->
            <h1>AudioX</h1>
          </div>
        </div>
        <div class="right">
          <ul class="navLinks">
            <li>
              <a>Overview</a>
            </li>
            <li>
              <a>About</a>
            </li>
            <li>
              <a>Announcements</a>
            </li>
            <li>
              <a>Contacts</a>
            </li>
          </ul>
        </div>
      </section>
    </article>
  </nav>
  <main>
    <article data-nav-windows="Overview">

    </article>
    <article data-nav-windows="Announcements">
      <section>
        <h1>Add Announcements</h1>
        <form id="announcementForm" enctype="multipart/form-data">
          <div class="top">
            <input type="file" name="ancMainImg" id="ancMainImg" accept="image/*" hidden>
            <div>
              <label for="ancMainImg">
                <div class="mainImgCont">
                  <img class="imagePreview">
                  <p>Add Photo</p>
                </div>
              </label>
            </div>
            <div>
              <span>
                <span>Title: </span>
                <input type="text" name="ancTitle" id="ancTitle" required>
              </span>
              <textarea name="ancDescription" id="ancDescription"></textarea>
            </div>
          </div>
          <div class="mid">
            <h1>Gallery</h1>
            <input type="file" name="ancGalleryImg" id="ancGalleryImg" accept="image/*" multiple="multiple" hidden>
            <ul class="galleryImages">
              <li class="addImg">
                <label for="ancGalleryImg">
                  <div>+</div>
                </label>
              </li>
            </ul>
          </div>
          <div class="bottom">
            <span class="errorMsg">*No cover photo selected</span>
            <button type="submit">Post</button>
          </div>
        </form>
      </section>
      <section>
        <h1>Posted Announcements</h1>
        <ul class="annc-preview">
        <% for(const annc of announcements){ %>
          <li>
            <%
              const { AnnouncementID, Title, Description, DatePosted } = annc;
              const setDate = new Date(DatePosted);
              const formattedDate =
                `${setDate.toLocaleDateString('en-US', {
                  month: 'long',
                  day: 'numeric',
                  year: 'numeric'
                })}
                ${setDate.toLocaleTimeString('en-US', {
                  hour: 'numeric',
                  minute: '2-digit'
                })}`;
            %>
            <input type="hidden" value="<%= AnnouncementID %>">
            <div class="ancMain">
              <% for(const img of images){ %>
                <% const { ImageType, ImagePath } = img; %>
                <% if(ImageType === 'main' && img.AnnouncementID === AnnouncementID){ %>
                  <img data-main-img class="mainImg" src="<%= ImagePath %>" loading="lazy" alt="main image">
                <% } %>
              <% } %>
              <div class="txt">
                <h2><%= Title %></h2>
                <span><%= formattedDate %></span>
                <p><%= Description %></p>
              </div>
            </div>
            <div class="ancGallery">
              <% for(const img of images){ %>
                <% const { ImageType, ImagePath } = img; %>
                <% if(ImageType === 'gallery' && img.AnnouncementID === AnnouncementID){ %>
                  <img data-main-img src="<%= ImagePath %>" loading="lazy" alt="gallery image">
                <% } %>
              <% } %>
            </div>
          </li>
        <% } %>
        </ul>
      </section>
    </article>
    <article data-nav-windows="Council Members">

    </article>
  </main>
  <script src="../javascripts/imgViewer.js"></script>
  <script src="../javascripts/nav.js"></script>
  <script src="../javascripts/script.js"></script>
  <script src="../javascripts/admin.js"></script>
</body>
</html>